<div class="register-page-container">
  <div class="register-block">
    <h1>INSCRIPTION</h1>
    <mat-divider></mat-divider>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline" class="register-form-field">
        <mat-label>Prénom</mat-label>
        <input matInput type="text" formControlName="firstName" />
        <mat-error
          *ngIf="firstName?.errors && !firstName?.pristine"
          class="error-message-size">
          Prénom invalide
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="register-form-field">
        <mat-label>Nom</mat-label>
        <input matInput type="text" formControlName="lastName" />
        <mat-error
          *ngIf="lastName?.errors && !lastName?.pristine"
          class="error-message-size">
          Nom invalide
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="register-form-field">
        <mat-label>Ville</mat-label>
        <input matInput type="text" formControlName="city" />
        <mat-error
          *ngIf="city?.errors && !city?.pristine"
          class="error-message-size">
          Ville invalide
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="register-form-field">
        <mat-label>Adresse email</mat-label>
        <input matInput type="email" formControlName="email" />
        <mat-error
          *ngIf="email?.errors && !email?.pristine"
          class="error-message-size">
          Email invalide
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="register-form-field">
        <mat-label>Mot de passe</mat-label>
        <input matInput type="password" formControlName="password" />
        <mat-error
          *ngIf="password?.errors && !password?.pristine"
          class="error-message-size">
          Le mot de passe n'est pas conforme.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="register-form-field">
        <mat-label>Confirmez le mot de passe</mat-label>
        <input matInput type="password" formControlName="confirmPassword" />
        <div
          *ngIf="registerForm.hasError('noMatch') && !confirmPassword?.pristine"
          class="custom-error-message error-message-size">
          {{ confirmError() }}
        </div>
        <mat-error class="error-message-size"
          >Les mots de passe ne correspondent pas.</mat-error
        >
      </mat-form-field>

      <ul>
        * Le mot de passe doit être composé d'au moins :
        <li>- 8 caractères</li>
        <li>- Une majuscule</li>
        <li>- Une minuscule</li>
        <li>- Un chiffre</li>
        <li>- Un caractère spécial</li>
      </ul>

      <mat-checkbox formControlName="acceptTerms">
        <mat-label>J'accepte les conditions d'utilisation de WinIt.</mat-label>
      </mat-checkbox>
      <mat-error
        *ngIf="
          acceptTerms?.errors &&
          (!acceptTerms?.pristine ||
            (!firstName?.pristine &&
              !lastName?.pristine &&
              !city?.pristine &&
              !email?.pristine &&
              !password?.pristine &&
              !confirmPassword?.pristine))
        "
        class="error-message-size">
        Vous devez accepter les conditions d'utilisation pour vous inscrire.
      </mat-error>

      <div class="button-container">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="register-button">
          S'INSCRIRE
        </button>
        <button
          mat-stroked-button
          color="primary"
          class="login-button"
          type="button"
          [routerLink]="['/auth/login']">
          SE CONNECTER
        </button>
      </div>
    </form>
  </div>
</div>
